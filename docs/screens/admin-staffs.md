# スタッフ一覧画面

## 基本情報

| 項目 | 値              |
| ---- | --------------- |
| URL  | `/admin/staffs` |
| 権限 | 管理者のみ      |

## 目的

自オフィスのスタッフ（担当者）を一覧表示し、追加・編集・削除を行う。

## レイアウト

```
┌─────────────────────────────────────────────────┐
│ [ナビゲーション]                                 │
├─────────────────────────────────────────────────┤
│ 担当者管理                    [＋ 担当者を追加] │
├─────────────────────────────────────────────────┤
│ [フリーワード検索] [ロール: すべて ▼]           │
├─────────────────────────────────────────────────┤
│ 氏名     │ メール    │ ロール │ 操作           │
├──────────┼───────────┼────────┼────────────────┤
│ 山田太郎 │ yam@...   │ 管理者 │ [編集] [削除]  │
│ 佐藤花子 │ sat@...   │ ヘルパー│ [編集] [削除]  │
│ ...      │ ...       │ ...    │ ...            │
└─────────────────────────────────────────────────┘
```

## 表示項目

### フィルタ

| 項目         | 説明                       |
| ------------ | -------------------------- |
| フリーワード | 氏名・メールで部分一致検索 |
| ロール       | すべて / 管理者 / ヘルパー |

### テーブル

| 列     | 説明             |
| ------ | ---------------- |
| 氏名   | スタッフ名       |
| メール | メールアドレス   |
| ロール | admin / helper   |
| 操作   | 編集・削除ボタン |

## 操作・インタラクション

### 担当者を追加

1. 「＋ 担当者を追加」ボタンをクリック
2. `StaffFormModal` が開く（作成モード）
3. フォーム送信で `createStaffAction` 実行
4. 成功 → トースト表示、一覧更新

### 編集

1. 行の「編集」ボタンをクリック
2. `StaffFormModal` が開く（編集モード、既存データ入力済み）
3. フォーム送信で `updateStaffAction` 実行
4. 成功 → トースト表示、一覧更新

### 削除

1. 行の「削除」ボタンをクリック
2. `DeleteStaffDialog` が開く
3. 確認後 `deleteStaffAction` 実行
4. 成功 → トースト表示、行削除

### フィルタ

- フリーワード入力、ロール選択で即時フィルタ
- URL クエリパラメータと同期

## コンポーネント構成

```
src/app/admin/staffs/
├── page.tsx                    # Server Component
└── _components/
    ├── StaffListPageClient/    # Client Component
    ├── StaffFilterBar/         # フィルタバー
    ├── StaffTable/             # テーブル
    ├── StaffFormModal/         # 作成/編集モーダル
    └── DeleteStaffDialog/      # 削除確認ダイアログ
```

## データ取得

- `listStaffsAction()` - スタッフ一覧
- `listServiceTypesAction()` - サービス区分一覧（フォーム用）

## 関連

- [スタッフ管理機能](../features/staff-management.md)
- [UC02: スタッフ管理](../use-cases/UC02-staff-management.md)
