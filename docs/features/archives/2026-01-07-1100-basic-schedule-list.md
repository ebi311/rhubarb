# 基本スケジュール一覧画面 仕様

## 背景

- 新規登録画面を `/admin/basic-schedules` に実装済みだが、一覧が未整備。
- 一覧を `/admin/basic-schedules` に配置し、新規登録を `/admin/basic-schedules/new` に移動する。
- 管理者が基本スケジュールを検索・閲覧・編集・ソフト削除できることを目的とする。

## URL / 画面

- 一覧: `/admin/basic-schedules`
- 新規登録: `/admin/basic-schedules/new`（既存の新規画面を移動）

## ユースケース

- 管理者が一覧からフィルタ検索し、該当スケジュールを閲覧する。
- 空状態から新規登録ボタンで `/admin/basic-schedules/new` へ遷移する。
- 編集・削除機能は別タスクで実装予定のため、今回は対象外。

## 機能要件

- フィルタ
  - 曜日セレクト (`SUN`〜`SAT`)
  - 利用者セレクト（契約中のみを選択肢に）
  - サービス区分セレクト
  - テキスト検索（利用者名/スタッフ名 部分一致）
- テーブル列
  - 利用者名 / サービス区分名 / 曜日（ローカライズ表記）
  - 時間帯 (HH:MM–HH:MM)
  - デフォルト担当者名
  - 備考
- ソート
  - 一覧は「曜日 → 開始時刻」昇順で表示する。
- 空状態
  - 「まだ基本スケジュールがありません」メッセージ + 「新規登録」ボタン
- ローディング/エラー
  - フィルタ適用時はスピナー、エラー時はインライン表示。
- 権限
  - 管理者のみアクセス可。ヘルパーはリダイレクト or 403。

## データ/API

- 取得: `listBasicSchedulesAction(filters)` を使用。パラメータ: `weekday?`, `clientId?`, `serviceTypeId?`, `keyword?`。
- 表示データ
  - `id`, `client.name`, `serviceType.name`, `weekday`, `start_time`, `end_time`, `staff.name`, `note`。

## バリデーション・ビジネスルール反映

- 削除済みは一覧に表示しない（`deleted_at` null のみ取得）。
- フロントは入力必須/形式チェックと、サーバエラーの表示を行う。

## UI/UX

- daisyUI + Tailwind。テーブルは横スクロール許容（`overflow-x-auto`）。
- フィルタは上部に並べ、モバイルでは縦積み。
- アクセシビリティ: 全入力に `label`、フォーカス移動順序を維持。

## ストーリー/状態

- 通常表示、空状態、ローディング、エラー。

## 受入基準

- 管理者が `/admin/basic-schedules` で一覧を閲覧でき、フィルタが機能する。
- 契約中利用者のみフィルタ選択肢に出る。
- 削除済みは表示されない。
- ローディングとエラー表示がある。
- 追加テストと Storybook が通り、`pnpm test:ut --run` が成功する。
